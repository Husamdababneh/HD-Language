/* ========================================================================
$File: String.h
$Date: 2020-04-23
$Creator: Husam Dababneh
$Description: Custom String Type
========================================================================*/
#pragma once

#include "common.h"
#include "arena.h"
/*
struct StringView
{
	static Arena string_arena;
	union {
		u8* data;
		char* str;
	};
	u64 count;
	
	u8& operator[]  (u64 i) {
		assert(i <= count);
		return data[i];
	}
	
	u8& operator[] (u64 i) const  {
		assert(i <= count);
		return data[i];
	}
};


struct String {
	union {
		StringView string;
		struct { 
			union {
				u8* data;
				char* str;
			};
			u64 count;
		};
	};
	
	~String() {
		delete string.data;
	}
};

char* operator*(const StringView& string);

StringView operator "" _s(const char* a, size_t s);
StringView new_string(char* data, u64 count);
StringView new_string(u8 data);

//#define cmp2sv(x, y) strcmp((const char*)x.str, (const char*)y.str)
#define cmp2sv(x, y) ((x.count == y.count) && memcmp(x.str, y.str, x.count) == 0)
#define SV_PRINT(x) (int)x.count, x.data





*/